<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE KindSignatures #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators #-}</span><span>
</span><span id="line-8"></span><span>
</span><span id="line-9"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Test.Cardano.Ledger.Constrained.Trace.Pipeline</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-babbage-1.10.0.0/doc/html/cardano-ledger-babbage/src"><span class="hs-identifier">Cardano.Ledger.Babbage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-babbage-1.10.0.0/doc/html/cardano-ledger-babbage/src"><span class="hs-identifier">Babbage</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier">Cardano.Ledger.BaseTypes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier">Globals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier">Cardano.Ledger.Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier">Era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier">EraRule</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier">Tx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-shelley-1.14.0.0/doc/html/cardano-ledger-shelley/src"><span class="hs-identifier">Cardano.Ledger.Shelley.LedgerState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-shelley-1.14.0.0/doc/html/cardano-ledger-shelley/src"><span class="hs-identifier">LedgerState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-shelley-1.14.0.0/doc/html/cardano-ledger-shelley/src"><span class="hs-identifier">Cardano.Ledger.Shelley.Rules</span></a></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/mtl-2.2.2/src"><span class="hs-identifier">Control.Monad.Reader</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier">Reader</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier">runReader</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier">Control.State.Transition.Extended</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-18"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier">BaseM</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier">RuleType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier">Transition</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier">STS</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier">TRC</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier">applySTS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/data-default-class-0.1.2.0-cc61b3e1505bae222166941c5d7d95310a6fc64233e500cdf16191d60ef6520a/share/doc/html/src"><span class="hs-identifier">Data.Default.Class</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/data-default-class-0.1.2.0-cc61b3e1505bae222166941c5d7d95310a6fc64233e500cdf16191d60ef6520a/share/doc/html/src"><span class="hs-identifier">Default</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/data-default-class-0.1.2.0-cc61b3e1505bae222166941c5d7d95310a6fc64233e500cdf16191d60ef6520a/share/doc/html/src"><span class="hs-identifier">def</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/unordered-containers-0.2.20-a24a7d5930ed5c7a2c9bd7f24cb042d4c1d7f1729ab1be9d63201ec64ef6449d/share/doc/html/src"><span class="hs-identifier">Data.HashSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/unordered-containers-0.2.20-a24a7d5930ed5c7a2c9bd7f24cb042d4c1d7f1729ab1be9d63201ec64ef6449d/share/doc/html/src"><span class="hs-identifier">HashSet</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/unordered-containers-0.2.20-a24a7d5930ed5c7a2c9bd7f24cb042d4c1d7f1729ab1be9d63201ec64ef6449d/share/doc/html/src"><span class="hs-identifier">Data.HashSet</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HashSet</span></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">Data.List.NonEmpty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">NonEmpty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier">Data.Map.Strict</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-data-1.2.3.0/doc/html/cardano-data/src"><span class="hs-identifier">Data.Pulse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-data-1.2.3.0/doc/html/cardano-data/src"><span class="hs-identifier">foldlM'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier">GHC.TypeLits</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier">Symbol</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Ast.html"><span class="hs-identifier">Test.Cardano.Ledger.Constrained.Ast</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Classes.html"><span class="hs-identifier">Test.Cardano.Ledger.Constrained.Classes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Classes.html#TxF"><span class="hs-identifier">TxF</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Env.html"><span class="hs-identifier">Test.Cardano.Ledger.Constrained.Env</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Env.html#Env"><span class="hs-identifier">Env</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Env.html#Name"><span class="hs-identifier">Name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Env.html#emptyEnv"><span class="hs-identifier">emptyEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Env.html#findVar"><span class="hs-identifier">findVar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Monad.html"><span class="hs-identifier">Test.Cardano.Ledger.Constrained.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Monad.html#errorTyped"><span class="hs-identifier">errorTyped</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Monad.html#monadTyped"><span class="hs-identifier">monadTyped</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Preds.Repl.html"><span class="hs-identifier">Test.Cardano.Ledger.Constrained.Preds.Repl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Preds.Repl.html#goRepl"><span class="hs-identifier">goRepl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Preds.Tx.html"><span class="hs-identifier">Test.Cardano.Ledger.Constrained.Preds.Tx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Preds.Tx.html#adjustColInput"><span class="hs-identifier">adjustColInput</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Preds.Tx.html#adjustFeeInput"><span class="hs-identifier">adjustFeeInput</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Preds.Tx.html#txBodyPreds"><span class="hs-identifier">txBodyPreds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Rewrite.html"><span class="hs-identifier">Test.Cardano.Ledger.Constrained.Rewrite</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-38"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Rewrite.html#DependGraph"><span class="hs-identifier">DependGraph</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Rewrite.html#initialOrder"><span class="hs-identifier">initialOrder</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Rewrite.html#mkDependGraph"><span class="hs-identifier">mkDependGraph</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Rewrite.html#notBefore"><span class="hs-identifier">notBefore</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Rewrite.html#rewriteGen"><span class="hs-identifier">rewriteGen</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Rewrite.html#standardOrderInfo"><span class="hs-identifier">standardOrderInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Solver.html"><span class="hs-identifier">Test.Cardano.Ledger.Constrained.Solver</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Solver.html#solveOneVar"><span class="hs-identifier">solveOneVar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Stage.html"><span class="hs-identifier">Test.Cardano.Ledger.Constrained.Stage</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Stage.html#Pipeline"><span class="hs-identifier">Pipeline</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Stage.html#Stage"><span class="hs-identifier">Stage</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Stage.html#ledgerPipeline"><span class="hs-identifier">ledgerPipeline</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Stage.html#solvePipeline"><span class="hs-identifier">solvePipeline</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.TraceMonad.html"><span class="hs-identifier">Test.Cardano.Ledger.Constrained.Trace.TraceMonad</span></a></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Vars.html"><span class="hs-identifier">Test.Cardano.Ledger.Constrained.Vars</span></a></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Generic.Proof.html"><span class="hs-identifier">Test.Cardano.Ledger.Generic.Proof</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.Generic.Proof.html#WitRule"><span class="hs-identifier">WitRule</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Generic.Proof.html#lift"><span class="hs-identifier">lift</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-shelley-test-1.5.0.0/doc/html/cardano-ledger-shelley-test/src"><span class="hs-identifier">Test.Cardano.Ledger.Shelley.Utils</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/l/testlib/doc/html/cardano-ledger-core/src"><span class="hs-identifier">testGlobals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/QuickCheck-2.15.0.1-4019c8c32cd83e4551b6cacd38479a53d08da5213f8f0afe416c11ef11d8101d/share/doc/html/src"><span class="hs-identifier">Test.QuickCheck</span></a></span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="hs-comment">-- =============================================</span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span class="hs-keyword">data</span><span> </span><span id="Rule"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-var">Rule</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621685165584"><span class="annot"><a href="#local-6989586621685165584"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Symbol</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-56"></span><span>  </span><span id="DELEG"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#DELEG"><span class="hs-identifier hs-var">DELEG</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;DELEG&quot;</span></span><span>
</span><span id="line-57"></span><span>  </span><span id="DELEGS"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#DELEGS"><span class="hs-identifier hs-var">DELEGS</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;DELEGS&quot;</span></span><span>
</span><span id="line-58"></span><span>  </span><span id="DELPL"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#DELPL"><span class="hs-identifier hs-var">DELPL</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;DELPL&quot;</span></span><span>
</span><span id="line-59"></span><span>  </span><span id="EPOCH"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#EPOCH"><span class="hs-identifier hs-var">EPOCH</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;EPOCH&quot;</span></span><span>
</span><span id="line-60"></span><span>  </span><span id="LEDGER"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#LEDGER"><span class="hs-identifier hs-var">LEDGER</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;LEDGER&quot;</span></span><span>
</span><span id="line-61"></span><span>  </span><span id="LEDGERS"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#LEDGERS"><span class="hs-identifier hs-var">LEDGERS</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;LEDGERS&quot;</span></span><span>
</span><span id="line-62"></span><span>  </span><span id="MIR"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#MIR"><span class="hs-identifier hs-var">MIR</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;MIR&quot;</span></span><span>
</span><span id="line-63"></span><span>  </span><span id="NEWEPOCH"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#NEWEPOCH"><span class="hs-identifier hs-var">NEWEPOCH</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;NEWSPOCH&quot;</span></span><span>
</span><span id="line-64"></span><span>  </span><span id="NEWPP"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#NEWPP"><span class="hs-identifier hs-var">NEWPP</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;NEWPP&quot;</span></span><span>
</span><span id="line-65"></span><span>  </span><span id="POOL"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#POOL"><span class="hs-identifier hs-var">POOL</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;POOL&quot;</span></span><span>
</span><span id="line-66"></span><span>  </span><span id="POOLREAP"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#POOLREAP"><span class="hs-identifier hs-var">POOLREAP</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;POOLREAP&quot;</span></span><span>
</span><span id="line-67"></span><span>  </span><span id="PPUP"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#PPUP"><span class="hs-identifier hs-var">PPUP</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;PPUP&quot;</span></span><span>
</span><span id="line-68"></span><span>  </span><span id="RUPD"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#RUPD"><span class="hs-identifier hs-var">RUPD</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;RUPD&quot;</span></span><span>
</span><span id="line-69"></span><span>  </span><span id="SNAP"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#SNAP"><span class="hs-identifier hs-var">SNAP</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;SNAP&quot;</span></span><span>
</span><span id="line-70"></span><span>  </span><span id="TICK"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#TICK"><span class="hs-identifier hs-var">TICK</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;TICK&quot;</span></span><span>
</span><span id="line-71"></span><span>  </span><span id="TICKF"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#TICKF"><span class="hs-identifier hs-var">TICKF</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;TICKF&quot;</span></span><span>
</span><span id="line-72"></span><span>  </span><span id="UPEC"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#UPEC"><span class="hs-identifier hs-var">UPEC</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;UPEC&quot;</span></span><span>
</span><span id="line-73"></span><span>  </span><span id="UTXO"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#UTXO"><span class="hs-identifier hs-var">UTXO</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;UTXO&quot;</span></span><span>
</span><span id="line-74"></span><span>  </span><span id="UTXOW"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#UTXOW"><span class="hs-identifier hs-var">UTXOW</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;UTXOW&quot;</span></span><span>
</span><span id="line-75"></span><span>  </span><span id="GOVCERT"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#GOVCERT"><span class="hs-identifier hs-var">GOVCERT</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;GOVCERT&quot;</span></span><span>
</span><span id="line-76"></span><span>  </span><span id="GOV"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#GOV"><span class="hs-identifier hs-var">GOV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;GOV&quot;</span></span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span id="local-6989586621685165814"><span id="local-6989586621685165816"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#trc"><span class="hs-identifier hs-type">trc</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-79"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Generic.Proof.html#Proof"><span class="hs-identifier hs-type">Proof</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165816"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-80"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165814"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-81"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier hs-type">Environment</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">EraRule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165814"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165816"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-82"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">EraRule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165814"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165816"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-83"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier hs-type">Signal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">EraRule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165814"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165816"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-84"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier hs-type">TRC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">EraRule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165814"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165816"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-85"></span><span id="trc"><span class="annot"><span class="annottext">trc :: forall era (tag :: Symbol).
Proof era
-&gt; Rule tag
-&gt; Environment (EraRule tag era)
-&gt; State (EraRule tag era)
-&gt; Signal (EraRule tag era)
-&gt; TRC (EraRule tag era)
</span><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#trc"><span class="hs-identifier hs-var hs-var">trc</span></a></span></span><span> </span><span id="local-6989586621685165561"><span class="annot"><span class="annottext">Proof era
</span><a href="#local-6989586621685165561"><span class="hs-identifier hs-var">_proof</span></a></span></span><span> </span><span id="local-6989586621685165560"><span class="annot"><span class="annottext">Rule tag
</span><a href="#local-6989586621685165560"><span class="hs-identifier hs-var">_rule</span></a></span></span><span> </span><span id="local-6989586621685165559"><span class="annot"><span class="annottext">Environment (EraRule tag era)
</span><a href="#local-6989586621685165559"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621685165558"><span class="annot"><span class="annottext">State (EraRule tag era)
</span><a href="#local-6989586621685165558"><span class="hs-identifier hs-var">state</span></a></span></span><span> </span><span id="local-6989586621685165557"><span class="annot"><span class="annottext">Signal (EraRule tag era)
</span><a href="#local-6989586621685165557"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall sts. (Environment sts, State sts, Signal sts) -&gt; TRC sts
</span><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier hs-var">TRC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Environment (EraRule tag era)
</span><a href="#local-6989586621685165559"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">State (EraRule tag era)
</span><a href="#local-6989586621685165558"><span class="hs-identifier hs-var">state</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Signal (EraRule tag era)
</span><a href="#local-6989586621685165557"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#sts"><span class="hs-identifier hs-type">sts</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621685165803"><span class="annot"><a href="#local-6989586621685165803"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span id="local-6989586621685165804"><span class="annot"><a href="#local-6989586621685165804"><span class="hs-identifier hs-type">tag</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier hs-type">BaseM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">EraRule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165804"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165803"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-type">~</span></a></span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">Globals</span></a></span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier hs-type">STS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">EraRule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165804"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165803"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-92"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Generic.Proof.html#Proof"><span class="hs-identifier hs-type">Proof</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165803"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-93"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165804"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-94"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier hs-type">Environment</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">EraRule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165804"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165803"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-95"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">EraRule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165804"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165803"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-96"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier hs-type">Signal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">EraRule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165804"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165803"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-97"></span><span>  </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">NonEmpty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier hs-type">PredicateFailure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">EraRule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165804"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165803"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">EraRule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165804"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165803"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span id="sts"><span class="annot"><span class="annottext">sts :: forall era (tag :: Symbol).
(BaseM (EraRule tag era) ~ Reader Globals,
 STS (EraRule tag era)) =&gt;
Proof era
-&gt; Rule tag
-&gt; Environment (EraRule tag era)
-&gt; State (EraRule tag era)
-&gt; Signal (EraRule tag era)
-&gt; Either
     (NonEmpty (PredicateFailure (EraRule tag era)))
     (State (EraRule tag era))
</span><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#sts"><span class="hs-identifier hs-var hs-var">sts</span></a></span></span><span> </span><span id="local-6989586621685165546"><span class="annot"><span class="annottext">Proof era
</span><a href="#local-6989586621685165546"><span class="hs-identifier hs-var">proof</span></a></span></span><span> </span><span id="local-6989586621685165545"><span class="annot"><span class="annottext">Rule tag
</span><a href="#local-6989586621685165545"><span class="hs-identifier hs-var">rule</span></a></span></span><span> </span><span id="local-6989586621685165544"><span class="annot"><span class="annottext">Environment (EraRule tag era)
</span><a href="#local-6989586621685165544"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621685165543"><span class="annot"><span class="annottext">State (EraRule tag era)
</span><a href="#local-6989586621685165543"><span class="hs-identifier hs-var">state</span></a></span></span><span> </span><span id="local-6989586621685165542"><span class="annot"><span class="annottext">Signal (EraRule tag era)
</span><a href="#local-6989586621685165542"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-99"></span><span>  </span><span class="annot"><span class="annottext">forall r a. Reader r a -&gt; r -&gt; a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-var">runReader</span></a></span><span>
</span><span id="line-100"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">forall s (m :: * -&gt; *) (rtype :: RuleType).
(STS s, RuleTypeRep rtype, m ~ BaseM s) =&gt;
RuleContext rtype s
-&gt; m (Either (NonEmpty (PredicateFailure s)) (State s))
</span><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier hs-var">applySTS</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">EraRule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165804"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165803"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier hs-type">Transition</span></a></span><span>
</span><span id="line-101"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era (tag :: Symbol).
Proof era
-&gt; Rule tag
-&gt; Environment (EraRule tag era)
-&gt; State (EraRule tag era)
-&gt; Signal (EraRule tag era)
-&gt; TRC (EraRule tag era)
</span><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#trc"><span class="hs-identifier hs-var">trc</span></a></span><span> </span><span class="annot"><span class="annottext">Proof era
</span><a href="#local-6989586621685165546"><span class="hs-identifier hs-var">proof</span></a></span><span> </span><span class="annot"><span class="annottext">Rule tag
</span><a href="#local-6989586621685165545"><span class="hs-identifier hs-var">rule</span></a></span><span> </span><span class="annot"><span class="annottext">Environment (EraRule tag era)
</span><a href="#local-6989586621685165544"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">State (EraRule tag era)
</span><a href="#local-6989586621685165543"><span class="hs-identifier hs-var">state</span></a></span><span> </span><span class="annot"><span class="annottext">Signal (EraRule tag era)
</span><a href="#local-6989586621685165542"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span>    </span><span class="annot"><span class="annottext">Globals
</span><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/l/testlib/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-var">testGlobals</span></a></span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#stsWithContinuations"><span class="hs-identifier hs-type">stsWithContinuations</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621685165785"><span class="annot"><a href="#local-6989586621685165785"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span id="local-6989586621685165786"><span class="annot"><a href="#local-6989586621685165786"><span class="hs-identifier hs-type">tag</span></a></span></span><span> </span><span id="local-6989586621685165784"><span class="annot"><a href="#local-6989586621685165784"><span class="hs-identifier hs-type">ans</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier hs-type">BaseM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">EraRule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165786"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165785"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-type">~</span></a></span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">Globals</span></a></span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier hs-type">STS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">EraRule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165786"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165785"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-110"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Generic.Proof.html#Proof"><span class="hs-identifier hs-type">Proof</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165785"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-111"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#Rule"><span class="hs-identifier hs-type">Rule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165786"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">NonEmpty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier hs-type">PredicateFailure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">EraRule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165786"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165785"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621685165784"><span class="hs-identifier hs-type">ans</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">EraRule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165786"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165785"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621685165784"><span class="hs-identifier hs-type">ans</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-114"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier hs-type">Environment</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">EraRule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165786"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165785"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-115"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">EraRule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165786"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165785"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-116"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/small-steps-1.1.0.0/doc/html/small-steps/src"><span class="hs-identifier hs-type">Signal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">EraRule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165786"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165785"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-117"></span><span>  </span><span class="annot"><a href="#local-6989586621685165784"><span class="hs-identifier hs-type">ans</span></a></span><span>
</span><span id="line-118"></span><span id="stsWithContinuations"><span class="annot"><span class="annottext">stsWithContinuations :: forall era (tag :: Symbol) ans.
(BaseM (EraRule tag era) ~ Reader Globals,
 STS (EraRule tag era)) =&gt;
Proof era
-&gt; Rule tag
-&gt; (NonEmpty (PredicateFailure (EraRule tag era)) -&gt; ans)
-&gt; (State (EraRule tag era) -&gt; ans)
-&gt; Environment (EraRule tag era)
-&gt; State (EraRule tag era)
-&gt; Signal (EraRule tag era)
-&gt; ans
</span><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#stsWithContinuations"><span class="hs-identifier hs-var hs-var">stsWithContinuations</span></a></span></span><span> </span><span id="local-6989586621685165534"><span class="annot"><span class="annottext">Proof era
</span><a href="#local-6989586621685165534"><span class="hs-identifier hs-var">proof</span></a></span></span><span> </span><span id="local-6989586621685165533"><span class="annot"><span class="annottext">Rule tag
</span><a href="#local-6989586621685165533"><span class="hs-identifier hs-var">rule</span></a></span></span><span> </span><span id="local-6989586621685165532"><span class="annot"><span class="annottext">NonEmpty (PredicateFailure (EraRule tag era)) -&gt; ans
</span><a href="#local-6989586621685165532"><span class="hs-identifier hs-var">fails</span></a></span></span><span> </span><span id="local-6989586621685165531"><span class="annot"><span class="annottext">State (EraRule tag era) -&gt; ans
</span><a href="#local-6989586621685165531"><span class="hs-identifier hs-var">succeeds</span></a></span></span><span> </span><span id="local-6989586621685165530"><span class="annot"><span class="annottext">Environment (EraRule tag era)
</span><a href="#local-6989586621685165530"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621685165529"><span class="annot"><span class="annottext">State (EraRule tag era)
</span><a href="#local-6989586621685165529"><span class="hs-identifier hs-var">state</span></a></span></span><span> </span><span id="local-6989586621685165528"><span class="annot"><span class="annottext">Signal (EraRule tag era)
</span><a href="#local-6989586621685165528"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-119"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall era (tag :: Symbol).
(BaseM (EraRule tag era) ~ Reader Globals,
 STS (EraRule tag era)) =&gt;
Proof era
-&gt; Rule tag
-&gt; Environment (EraRule tag era)
-&gt; State (EraRule tag era)
-&gt; Signal (EraRule tag era)
-&gt; Either
     (NonEmpty (PredicateFailure (EraRule tag era)))
     (State (EraRule tag era))
</span><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#sts"><span class="hs-identifier hs-var">sts</span></a></span><span> </span><span class="annot"><span class="annottext">Proof era
</span><a href="#local-6989586621685165534"><span class="hs-identifier hs-var">proof</span></a></span><span> </span><span class="annot"><span class="annottext">Rule tag
</span><a href="#local-6989586621685165533"><span class="hs-identifier hs-var">rule</span></a></span><span> </span><span class="annot"><span class="annottext">Environment (EraRule tag era)
</span><a href="#local-6989586621685165530"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">State (EraRule tag era)
</span><a href="#local-6989586621685165529"><span class="hs-identifier hs-var">state</span></a></span><span> </span><span class="annot"><span class="annottext">Signal (EraRule tag era)
</span><a href="#local-6989586621685165528"><span class="hs-identifier hs-var">sig</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-120"></span><span>    </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621685165527"><span class="annot"><span class="annottext">NonEmpty (PredicateFailure (EraRule tag era))
</span><a href="#local-6989586621685165527"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NonEmpty (PredicateFailure (EraRule tag era)) -&gt; ans
</span><a href="#local-6989586621685165532"><span class="hs-identifier hs-var">fails</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (PredicateFailure (EraRule tag era))
</span><a href="#local-6989586621685165527"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-121"></span><span>    </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621685165526"><span class="annot"><span class="annottext">State (EraRule tag era)
</span><a href="#local-6989586621685165526"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">State (EraRule tag era) -&gt; ans
</span><a href="#local-6989586621685165531"><span class="hs-identifier hs-var">succeeds</span></a></span><span> </span><span class="annot"><span class="annottext">State (EraRule tag era)
</span><a href="#local-6989586621685165526"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span class="hs-comment">-- ====================================</span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span class="hs-comment">-- | Translate a Pipe into a DependGraph, given the set</span><span>
</span><span id="line-126"></span><span class="hs-comment">--   of variables that have aready been solved for.</span><span>
</span><span id="line-127"></span><span id="local-6989586621685165780"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#pipeToGraph"><span class="hs-identifier hs-type">pipeToGraph</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165780"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Stage.html#Stage"><span class="hs-identifier hs-type">Stage</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165780"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/unordered-containers-0.2.20-a24a7d5930ed5c7a2c9bd7f24cb042d4c1d7f1729ab1be9d63201ec64ef6449d/share/doc/html/src"><span class="hs-identifier hs-type">HashSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Env.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165780"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.TraceMonad.html#TraceM"><span class="hs-identifier hs-type">TraceM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165780"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Rewrite.html#DependGraph"><span class="hs-identifier hs-type">DependGraph</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165780"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-128"></span><span id="pipeToGraph"><span class="annot"><span class="annottext">pipeToGraph :: forall era.
Era era =&gt;
Stage era -&gt; HashSet (Name era) -&gt; TraceM era (DependGraph era)
</span><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#pipeToGraph"><span class="hs-identifier hs-var hs-var">pipeToGraph</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Stage.html#Stage"><span class="hs-identifier hs-type">Stage</span></a></span><span> </span><span id="local-6989586621685165515"><span class="annot"><span class="annottext">OrderInfo
</span><a href="#local-6989586621685165515"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621685165514"><span class="annot"><span class="annottext">[Pred era]
</span><a href="#local-6989586621685165514"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621685165513"><span class="annot"><span class="annottext">HashSet (Name era)
</span><a href="#local-6989586621685165513"><span class="hs-identifier hs-var">alreadyDefined</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-129"></span><span>  </span><span id="local-6989586621685165512"><span class="annot"><span class="annottext">[Pred era]
</span><a href="#local-6989586621685165512"><span class="hs-identifier hs-var">simple</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a b era. ((Int, a) -&gt; Gen (Int, b)) -&gt; a -&gt; TraceM era b
</span><a href="Test.Cardano.Ledger.Constrained.Trace.TraceMonad.html#liftCounter"><span class="hs-identifier hs-var">liftCounter</span></a></span><span> </span><span class="annot"><span class="annottext">forall era. Era era =&gt; (Int, [Pred era]) -&gt; Gen (Int, [Pred era])
</span><a href="Test.Cardano.Ledger.Constrained.Rewrite.html#rewriteGen"><span class="hs-identifier hs-var">rewriteGen</span></a></span><span> </span><span class="annot"><span class="annottext">[Pred era]
</span><a href="#local-6989586621685165514"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-130"></span><span>  </span><span id="local-6989586621685165510"><span class="annot"><span class="annottext">[Name era]
</span><a href="#local-6989586621685165510"><span class="hs-identifier hs-var">orderedNames</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a era. Typed a -&gt; TraceM era a
</span><a href="Test.Cardano.Ledger.Constrained.Trace.TraceMonad.html#liftTyped"><span class="hs-identifier hs-var">liftTyped</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall era. Era era =&gt; OrderInfo -&gt; [Pred era] -&gt; Typed [Name era]
</span><a href="Test.Cardano.Ledger.Constrained.Rewrite.html#initialOrder"><span class="hs-identifier hs-var">initialOrder</span></a></span><span> </span><span class="annot"><span class="annottext">OrderInfo
</span><a href="#local-6989586621685165515"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="annot"><span class="annottext">[Pred era]
</span><a href="#local-6989586621685165512"><span class="hs-identifier hs-var">simple</span></a></span><span>
</span><span id="line-131"></span><span>  </span><span class="annot"><span class="annottext">forall a era. Typed a -&gt; TraceM era a
</span><a href="Test.Cardano.Ledger.Constrained.Trace.TraceMonad.html#liftTyped"><span class="hs-identifier hs-var">liftTyped</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-132"></span><span>    </span><span class="annot"><span class="annottext">forall era.
Era era =&gt;
Int
-&gt; [([Name era], [Pred era])]
-&gt; HashSet (Name era)
-&gt; [Name era]
-&gt; [Name era]
-&gt; [Pred era]
-&gt; Typed (DependGraph era)
</span><a href="Test.Cardano.Ledger.Constrained.Rewrite.html#mkDependGraph"><span class="hs-identifier hs-var">mkDependGraph</span></a></span><span>
</span><span id="line-133"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">length</span></a></span><span> </span><span class="annot"><span class="annottext">[Name era]
</span><a href="#local-6989586621685165510"><span class="hs-identifier hs-var">orderedNames</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span>      </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-135"></span><span>      </span><span class="annot"><span class="annottext">HashSet (Name era)
</span><a href="#local-6989586621685165513"><span class="hs-identifier hs-var">alreadyDefined</span></a></span><span>
</span><span id="line-136"></span><span>      </span><span class="annot"><span class="annottext">[Name era]
</span><a href="#local-6989586621685165510"><span class="hs-identifier hs-var">orderedNames</span></a></span><span>
</span><span id="line-137"></span><span>      </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-138"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">Prelude.filter</span></a></span><span> </span><span class="annot"><span class="annottext">forall era. Pred era -&gt; Bool
</span><a href="Test.Cardano.Ledger.Constrained.Rewrite.html#notBefore"><span class="hs-identifier hs-var">notBefore</span></a></span><span> </span><span class="annot"><span class="annottext">[Pred era]
</span><a href="#local-6989586621685165512"><span class="hs-identifier hs-var">simple</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="hs-comment">-- | Merge a Pipeline into an existing DependGraph, given the set of variables</span><span>
</span><span id="line-141"></span><span class="hs-comment">--   that have aready been solved for, to get a larger DependGraph</span><span>
</span><span id="line-142"></span><span id="local-6989586621685165755"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#mergePipeline"><span class="hs-identifier hs-type">mergePipeline</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-143"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165755"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Stage.html#Pipeline"><span class="hs-identifier hs-type">Pipeline</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165755"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/unordered-containers-0.2.20-a24a7d5930ed5c7a2c9bd7f24cb042d4c1d7f1729ab1be9d63201ec64ef6449d/share/doc/html/src"><span class="hs-identifier hs-type">HashSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Env.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165755"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Rewrite.html#DependGraph"><span class="hs-identifier hs-type">DependGraph</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165755"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.TraceMonad.html#TraceM"><span class="hs-identifier hs-type">TraceM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165755"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Rewrite.html#DependGraph"><span class="hs-identifier hs-type">DependGraph</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165755"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-144"></span><span id="mergePipeline"><span class="annot"><span class="annottext">mergePipeline :: forall era.
Era era =&gt;
Pipeline era
-&gt; HashSet (Name era)
-&gt; DependGraph era
-&gt; TraceM era (DependGraph era)
</span><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#mergePipeline"><span class="hs-identifier hs-var hs-var">mergePipeline</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">HashSet (Name era)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621685165496"><span class="annot"><span class="annottext">DependGraph era
</span><a href="#local-6989586621685165496"><span class="hs-identifier hs-var">graph</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">DependGraph era
</span><a href="#local-6989586621685165496"><span class="hs-identifier hs-var">graph</span></a></span><span>
</span><span id="line-145"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#mergePipeline"><span class="hs-identifier hs-var">mergePipeline</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621685165495"><span class="annot"><span class="annottext">Stage era
</span><a href="#local-6989586621685165495"><span class="hs-identifier hs-var">pipe</span></a></span></span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/ghc-prim-0.8.0/src"><span class="hs-glyph hs-type">:</span></a></span><span> </span><span id="local-6989586621685165494"><span class="annot"><span class="annottext">[Stage era]
</span><a href="#local-6989586621685165494"><span class="hs-identifier hs-var">more</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621685165493"><span class="annot"><span class="annottext">HashSet (Name era)
</span><a href="#local-6989586621685165493"><span class="hs-identifier hs-var">defined</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Rewrite.html#DependGraph"><span class="hs-identifier hs-type">DependGraph</span></a></span><span> </span><span id="local-6989586621685165491"><span class="annot"><span class="annottext">[([Name era], [Pred era])]
</span><a href="#local-6989586621685165491"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-146"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Rewrite.html#DependGraph"><span class="hs-identifier hs-type">DependGraph</span></a></span><span> </span><span id="local-6989586621685165490"><span class="annot"><span class="annottext">[([Name era], [Pred era])]
</span><a href="#local-6989586621685165490"><span class="hs-identifier hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall era.
Era era =&gt;
Stage era -&gt; HashSet (Name era) -&gt; TraceM era (DependGraph era)
</span><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#pipeToGraph"><span class="hs-identifier hs-var">pipeToGraph</span></a></span><span> </span><span class="annot"><span class="annottext">Stage era
</span><a href="#local-6989586621685165495"><span class="hs-identifier hs-var">pipe</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet (Name era)
</span><a href="#local-6989586621685165493"><span class="hs-identifier hs-var">defined</span></a></span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621685165489"><span class="annot"><span class="annottext">names :: [Name era]
</span><a href="#local-6989586621685165489"><span class="hs-identifier hs-var hs-var">names</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">[([Name era], [Pred era])]
</span><a href="#local-6989586621685165490"><span class="hs-identifier hs-var">ys</span></a></span><span>
</span><span id="line-148"></span><span>  </span><span class="annot"><span class="annottext">forall era.
Era era =&gt;
Pipeline era
-&gt; HashSet (Name era)
-&gt; DependGraph era
-&gt; TraceM era (DependGraph era)
</span><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#mergePipeline"><span class="hs-identifier hs-var">mergePipeline</span></a></span><span> </span><span class="annot"><span class="annottext">[Stage era]
</span><a href="#local-6989586621685165494"><span class="hs-identifier hs-var">more</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Eq a =&gt; HashSet a -&gt; HashSet a -&gt; HashSet a
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/unordered-containers-0.2.20-a24a7d5930ed5c7a2c9bd7f24cb042d4c1d7f1729ab1be9d63201ec64ef6449d/share/doc/html/src"><span class="hs-identifier hs-var">HashSet.union</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (Eq a, Hashable a) =&gt; [a] -&gt; HashSet a
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/unordered-containers-0.2.20-a24a7d5930ed5c7a2c9bd7f24cb042d4c1d7f1729ab1be9d63201ec64ef6449d/share/doc/html/src"><span class="hs-identifier hs-var">HashSet.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">[Name era]
</span><a href="#local-6989586621685165489"><span class="hs-identifier hs-var">names</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HashSet (Name era)
</span><a href="#local-6989586621685165493"><span class="hs-identifier hs-var">defined</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. [([Name era], [Pred era])] -&gt; DependGraph era
</span><a href="Test.Cardano.Ledger.Constrained.Rewrite.html#DependGraph"><span class="hs-identifier hs-var">DependGraph</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[([Name era], [Pred era])]
</span><a href="#local-6989586621685165491"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[([Name era], [Pred era])]
</span><a href="#local-6989586621685165490"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="hs-comment">-- | Solve a Pipeline to get both an Env and a DependGraph</span><span>
</span><span id="line-151"></span><span id="local-6989586621685165741"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#solvePipeline2"><span class="hs-identifier hs-type">solvePipeline2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Generic.Proof.html#Reflect"><span class="hs-identifier hs-type">Reflect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165741"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Stage.html#Pipeline"><span class="hs-identifier hs-type">Pipeline</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165741"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.TraceMonad.html#TraceM"><span class="hs-identifier hs-type">TraceM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165741"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Env.html#Env"><span class="hs-identifier hs-type">Env</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165741"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Rewrite.html#DependGraph"><span class="hs-identifier hs-type">DependGraph</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165741"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-152"></span><span id="solvePipeline2"><span class="annot"><span class="annottext">solvePipeline2 :: forall era.
Reflect era =&gt;
Pipeline era -&gt; TraceM era (Env era, DependGraph era)
</span><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#solvePipeline2"><span class="hs-identifier hs-var hs-var">solvePipeline2</span></a></span></span><span> </span><span id="local-6989586621685165470"><span class="annot"><span class="annottext">Pipeline era
</span><a href="#local-6989586621685165470"><span class="hs-identifier hs-var">pipes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-153"></span><span>  </span><span id="local-6989586621685165469"><span class="annot"><span class="annottext">gr :: DependGraph era
</span><a href="#local-6989586621685165469"><span class="hs-identifier hs-var">gr</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Rewrite.html#DependGraph"><span class="hs-identifier hs-type">DependGraph</span></a></span><span> </span><span id="local-6989586621685165468"><span class="annot"><span class="annottext">[([Name era], [Pred era])]
</span><a href="#local-6989586621685165468"><span class="hs-identifier hs-var">pairs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall era.
Era era =&gt;
Pipeline era
-&gt; HashSet (Name era)
-&gt; DependGraph era
-&gt; TraceM era (DependGraph era)
</span><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#mergePipeline"><span class="hs-identifier hs-var">mergePipeline</span></a></span><span> </span><span class="annot"><span class="annottext">Pipeline era
</span><a href="#local-6989586621685165470"><span class="hs-identifier hs-var">pipes</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. HashSet a
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/unordered-containers-0.2.20-a24a7d5930ed5c7a2c9bd7f24cb042d4c1d7f1729ab1be9d63201ec64ef6449d/share/doc/html/src"><span class="hs-identifier hs-var">HashSet.empty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. [([Name era], [Pred era])] -&gt; DependGraph era
</span><a href="Test.Cardano.Ledger.Constrained.Rewrite.html#DependGraph"><span class="hs-identifier hs-var">DependGraph</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span>  </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Ast.html#Subst"><span class="hs-identifier hs-type">Subst</span></a></span><span> </span><span id="local-6989586621685165465"><span class="annot"><span class="annottext">Map String (SubstElem era)
</span><a href="#local-6989586621685165465"><span class="hs-identifier hs-var">subst</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a era. Gen a -&gt; TraceM era a
</span><a href="Test.Cardano.Ledger.Constrained.Trace.TraceMonad.html#liftGen"><span class="hs-identifier hs-var">liftGen</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) ans k.
(Foldable t, Monad m) =&gt;
(ans -&gt; k -&gt; m ans) -&gt; ans -&gt; t k -&gt; m ans
</span><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-data-1.2.3.0/doc/html/cardano-data/src"><span class="hs-identifier hs-var">foldlM'</span></a></span><span> </span><span class="annot"><span class="annottext">forall era.
Era era =&gt;
Subst era -&gt; ([Name era], [Pred era]) -&gt; Gen (Subst era)
</span><a href="Test.Cardano.Ledger.Constrained.Solver.html#solveOneVar"><span class="hs-identifier hs-var">solveOneVar</span></a></span><span> </span><span class="annot"><span class="annottext">forall era. Subst era
</span><a href="Test.Cardano.Ledger.Constrained.Ast.html#emptySubst"><span class="hs-identifier hs-var">emptySubst</span></a></span><span> </span><span class="annot"><span class="annottext">[([Name era], [Pred era])]
</span><a href="#local-6989586621685165468"><span class="hs-identifier hs-var">pairs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621685165458"><span class="annot"><span class="annottext">isTempV :: t Char -&gt; Bool
</span><a href="#local-6989586621685165458"><span class="hs-identifier hs-var hs-var">isTempV</span></a></span></span><span> </span><span id="local-6989586621685165457"><span class="annot"><span class="annottext">t Char
</span><a href="#local-6989586621685165457"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">notElem</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'.'</span></span><span> </span><span class="annot"><span class="annottext">t Char
</span><a href="#local-6989586621685165457"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621685165455"><span class="annot"><span class="annottext">sub :: Subst era
</span><a href="#local-6989586621685165455"><span class="hs-identifier hs-var hs-var">sub</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall era. Map String (SubstElem era) -&gt; Subst era
</span><a href="Test.Cardano.Ledger.Constrained.Ast.html#Subst"><span class="hs-identifier hs-var">Subst</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall k a. (k -&gt; a -&gt; Bool) -&gt; Map k a -&gt; Map k a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">Map.filterWithKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621685165453"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621685165453"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="annot"><span class="annottext">SubstElem era
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall {t :: * -&gt; *}. Foldable t =&gt; t Char -&gt; Bool
</span><a href="#local-6989586621685165458"><span class="hs-identifier hs-var">isTempV</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621685165453"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map String (SubstElem era)
</span><a href="#local-6989586621685165465"><span class="hs-identifier hs-var">subst</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span>  </span><span id="local-6989586621685165452"><span class="annot"><span class="annottext">Env era
</span><a href="#local-6989586621685165452"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a era. Typed a -&gt; TraceM era a
</span><a href="Test.Cardano.Ledger.Constrained.Trace.TraceMonad.html#liftTyped"><span class="hs-identifier hs-var">liftTyped</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. Subst era -&gt; Env era -&gt; Typed (Env era)
</span><a href="Test.Cardano.Ledger.Constrained.Ast.html#substToEnv"><span class="hs-identifier hs-var">substToEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Subst era
</span><a href="#local-6989586621685165455"><span class="hs-identifier hs-var">sub</span></a></span><span> </span><span class="annot"><span class="annottext">forall era. Env era
</span><a href="Test.Cardano.Ledger.Constrained.Env.html#emptyEnv"><span class="hs-identifier hs-var">emptyEnv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-158"></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Env era
</span><a href="#local-6989586621685165452"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DependGraph era
</span><a href="#local-6989586621685165469"><span class="hs-identifier hs-var">gr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#main"><span class="hs-identifier hs-type">main</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-161"></span><span id="main"><span class="annot"><span class="annottext">main :: IO ()
</span><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#main"><span class="hs-identifier hs-var hs-var">main</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621685165449"><span class="annot"><span class="annottext">proof :: Proof (BabbageEra StandardCrypto)
</span><a href="#local-6989586621685165449"><span class="hs-identifier hs-var hs-var">proof</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proof (BabbageEra StandardCrypto)
</span><a href="Test.Cardano.Ledger.Generic.Proof.html#Babbage"><span class="hs-identifier hs-var">Babbage</span></a></span><span>
</span><span id="line-163"></span><span>  </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621685165447"><span class="annot"><span class="annottext">Env (BabbageEra StandardCrypto)
</span><a href="#local-6989586621685165447"><span class="hs-identifier hs-var">env</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Rewrite.html#DependGraph"><span class="hs-identifier hs-type">DependGraph</span></a></span><span> </span><span id="local-6989586621685165446"><span class="annot"><span class="annottext">[([Name (BabbageEra StandardCrypto)],
  [Pred (BabbageEra StandardCrypto)])]
</span><a href="#local-6989586621685165446"><span class="hs-identifier hs-var">zs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Env (BabbageEra StandardCrypto)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-164"></span><span>    </span><span class="annot"><span class="annottext">forall a. Gen a -&gt; IO a
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/QuickCheck-2.15.0.1-4019c8c32cd83e4551b6cacd38479a53d08da5213f8f0afe416c11ef11d8101d/share/doc/html/src"><span class="hs-identifier hs-var">generate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era a.
Int -&gt; Env era -&gt; TraceM era a -&gt; Gen (a, Int, Env era)
</span><a href="Test.Cardano.Ledger.Constrained.Trace.TraceMonad.html#runTraceM"><span class="hs-identifier hs-var">runTraceM</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">forall era. Env era
</span><a href="Test.Cardano.Ledger.Constrained.Env.html#emptyEnv"><span class="hs-identifier hs-var">emptyEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era.
Reflect era =&gt;
Pipeline era -&gt; TraceM era (Env era, DependGraph era)
</span><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#solvePipeline2"><span class="hs-identifier hs-var">solvePipeline2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. Reflect era =&gt; UnivSize -&gt; Proof era -&gt; Pipeline era
</span><a href="Test.Cardano.Ledger.Constrained.Stage.html#ledgerPipeline"><span class="hs-identifier hs-var">ledgerPipeline</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Default a =&gt; a
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/data-default-class-0.1.2.0-cc61b3e1505bae222166941c5d7d95310a6fc64233e500cdf16191d60ef6520a/share/doc/html/src"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">Proof (BabbageEra StandardCrypto)
</span><a href="#local-6989586621685165449"><span class="hs-identifier hs-var">proof</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621685165442"><span class="annot"><span class="annottext">vs :: HashSet (Name (BabbageEra StandardCrypto))
</span><a href="#local-6989586621685165442"><span class="hs-identifier hs-var hs-var">vs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall era r t.
HashSet (Name era) -&gt; RootTarget era r t -&gt; HashSet (Name era)
</span><a href="Test.Cardano.Ledger.Constrained.Ast.html#varsOfTarget"><span class="hs-identifier hs-var">varsOfTarget</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. HashSet a
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/unordered-containers-0.2.20-a24a7d5930ed5c7a2c9bd7f24cb042d4c1d7f1729ab1be9d63201ec64ef6449d/share/doc/html/src"><span class="hs-identifier hs-var">HashSet.empty</span></a></span><span> </span><span class="annot"><span class="annottext">forall era. Era era =&gt; RootTarget era (DState era) (DState era)
</span><a href="Test.Cardano.Ledger.Constrained.Vars.html#dstateT"><span class="hs-identifier hs-var">dstateT</span></a></span><span>
</span><span id="line-166"></span><span>      </span><span id="local-6989586621685165439"><span class="annot"><span class="annottext">ok :: ([Name (BabbageEra StandardCrypto)],
 [Pred (BabbageEra StandardCrypto)])
-&gt; Bool
</span><a href="#local-6989586621685165439"><span class="hs-identifier hs-var hs-var">ok</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (Eq a, Hashable a) =&gt; a -&gt; HashSet a -&gt; Bool
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/unordered-containers-0.2.20-a24a7d5930ed5c7a2c9bd7f24cb042d4c1d7f1729ab1be9d63201ec64ef6449d/share/doc/html/src"><span class="hs-operator hs-var">`HashSet.member`</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet (Name (BabbageEra StandardCrypto))
</span><a href="#local-6989586621685165442"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fst</span></a></span><span>
</span><span id="line-167"></span><span>  </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">putStrLn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. [([Name era], [Pred era])] -&gt; DependGraph era
</span><a href="Test.Cardano.Ledger.Constrained.Rewrite.html#DependGraph"><span class="hs-identifier hs-var">DependGraph</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="annot"><span class="annottext">([Name (BabbageEra StandardCrypto)],
 [Pred (BabbageEra StandardCrypto)])
-&gt; Bool
</span><a href="#local-6989586621685165439"><span class="hs-identifier hs-var">ok</span></a></span><span> </span><span class="annot"><span class="annottext">[([Name (BabbageEra StandardCrypto)],
  [Pred (BabbageEra StandardCrypto)])]
</span><a href="#local-6989586621685165446"><span class="hs-identifier hs-var">zs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span>  </span><span class="annot"><span class="annottext">forall era. Proof era -&gt; Env era -&gt; String -&gt; IO ()
</span><a href="Test.Cardano.Ledger.Constrained.Preds.Repl.html#goRepl"><span class="hs-identifier hs-var">goRepl</span></a></span><span> </span><span class="annot"><span class="annottext">Proof (BabbageEra StandardCrypto)
</span><a href="#local-6989586621685165449"><span class="hs-identifier hs-var">proof</span></a></span><span> </span><span class="annot"><span class="annottext">Env (BabbageEra StandardCrypto)
</span><a href="#local-6989586621685165447"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span class="hs-comment">-- =================================================</span><span>
</span><span id="line-171"></span><span class="hs-comment">-- Staging and STS rules</span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span id="local-6989586621685165693"><span id="local-6989586621685165694"><span id="local-6989586621685165695"><span id="local-6989586621685165696"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#sts0"><span class="hs-identifier hs-type">sts0</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-174"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165696"><span class="hs-identifier hs-type">ctx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165695"><span class="hs-identifier hs-type">state</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165694"><span class="hs-identifier hs-type">sig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/QuickCheck-2.15.0.1-4019c8c32cd83e4551b6cacd38479a53d08da5213f8f0afe416c11ef11d8101d/share/doc/html/src"><span class="hs-identifier hs-type">Testable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165693"><span class="hs-identifier hs-type">prop</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-175"></span><span>  </span><span class="annot"><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/QuickCheck-2.15.0.1-4019c8c32cd83e4551b6cacd38479a53d08da5213f8f0afe416c11ef11d8101d/share/doc/html/src"><span class="hs-identifier hs-type">Gen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165696"><span class="hs-identifier hs-type">ctx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-176"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621685165696"><span class="hs-identifier hs-type">ctx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/QuickCheck-2.15.0.1-4019c8c32cd83e4551b6cacd38479a53d08da5213f8f0afe416c11ef11d8101d/share/doc/html/src"><span class="hs-identifier hs-type">Gen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165695"><span class="hs-identifier hs-type">state</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-177"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621685165696"><span class="hs-identifier hs-type">ctx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621685165695"><span class="hs-identifier hs-type">state</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/QuickCheck-2.15.0.1-4019c8c32cd83e4551b6cacd38479a53d08da5213f8f0afe416c11ef11d8101d/share/doc/html/src"><span class="hs-identifier hs-type">Gen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165694"><span class="hs-identifier hs-type">sig</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-178"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621685165696"><span class="hs-identifier hs-type">ctx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621685165695"><span class="hs-identifier hs-type">state</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621685165694"><span class="hs-identifier hs-type">sig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621685165695"><span class="hs-identifier hs-type">state</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-179"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621685165695"><span class="hs-identifier hs-type">state</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621685165695"><span class="hs-identifier hs-type">state</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621685165693"><span class="hs-identifier hs-type">prop</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-180"></span><span>  </span><span class="annot"><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/QuickCheck-2.15.0.1-4019c8c32cd83e4551b6cacd38479a53d08da5213f8f0afe416c11ef11d8101d/share/doc/html/src"><span class="hs-identifier hs-type">Property</span></a></span></span></span></span></span><span>
</span><span id="line-181"></span><span id="sts0"><span class="annot"><span class="annottext">sts0 :: forall ctx state sig prop.
(Show ctx, Show state, Show sig, Testable prop) =&gt;
Gen ctx
-&gt; (ctx -&gt; Gen state)
-&gt; (ctx -&gt; state -&gt; Gen sig)
-&gt; (ctx -&gt; state -&gt; sig -&gt; state)
-&gt; (state -&gt; state -&gt; prop)
-&gt; Property
</span><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#sts0"><span class="hs-identifier hs-var hs-var">sts0</span></a></span></span><span> </span><span id="local-6989586621685165420"><span class="annot"><span class="annottext">Gen ctx
</span><a href="#local-6989586621685165420"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span id="local-6989586621685165419"><span class="annot"><span class="annottext">ctx -&gt; Gen state
</span><a href="#local-6989586621685165419"><span class="hs-identifier hs-var">state</span></a></span></span><span> </span><span id="local-6989586621685165418"><span class="annot"><span class="annottext">ctx -&gt; state -&gt; Gen sig
</span><a href="#local-6989586621685165418"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span id="local-6989586621685165417"><span class="annot"><span class="annottext">ctx -&gt; state -&gt; sig -&gt; state
</span><a href="#local-6989586621685165417"><span class="hs-identifier hs-var">apply</span></a></span></span><span> </span><span id="local-6989586621685165416"><span class="annot"><span class="annottext">state -&gt; state -&gt; prop
</span><a href="#local-6989586621685165416"><span class="hs-identifier hs-var">test</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-182"></span><span>  </span><span class="annot"><span class="annottext">forall a prop.
(Show a, Testable prop) =&gt;
Gen a -&gt; (a -&gt; prop) -&gt; Property
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/QuickCheck-2.15.0.1-4019c8c32cd83e4551b6cacd38479a53d08da5213f8f0afe416c11ef11d8101d/share/doc/html/src"><span class="hs-identifier hs-var">forAll</span></a></span><span>
</span><span id="line-183"></span><span>    </span><span class="annot"><span class="annottext">Gen ctx
</span><a href="#local-6989586621685165420"><span class="hs-identifier hs-var">ctx</span></a></span><span>
</span><span id="line-184"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621685165414"><span class="annot"><span class="annottext">ctx
</span><a href="#local-6989586621685165414"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-185"></span><span>        </span><span class="annot"><span class="annottext">forall a prop.
(Show a, Testable prop) =&gt;
Gen a -&gt; (a -&gt; prop) -&gt; Property
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/QuickCheck-2.15.0.1-4019c8c32cd83e4551b6cacd38479a53d08da5213f8f0afe416c11ef11d8101d/share/doc/html/src"><span class="hs-identifier hs-var">forAll</span></a></span><span>
</span><span id="line-186"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ctx -&gt; Gen state
</span><a href="#local-6989586621685165419"><span class="hs-identifier hs-var">state</span></a></span><span> </span><span class="annot"><span class="annottext">ctx
</span><a href="#local-6989586621685165414"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621685165413"><span class="annot"><span class="annottext">state
</span><a href="#local-6989586621685165413"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-188"></span><span>              </span><span class="annot"><span class="annottext">forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/QuickCheck-2.15.0.1-4019c8c32cd83e4551b6cacd38479a53d08da5213f8f0afe416c11ef11d8101d/share/doc/html/src"><span class="hs-identifier hs-var">withMaxSuccess</span></a></span><span>
</span><span id="line-189"></span><span>                </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">100</span></span><span>
</span><span id="line-190"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a prop.
(Show a, Testable prop) =&gt;
Gen a -&gt; (a -&gt; prop) -&gt; Property
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/QuickCheck-2.15.0.1-4019c8c32cd83e4551b6cacd38479a53d08da5213f8f0afe416c11ef11d8101d/share/doc/html/src"><span class="hs-identifier hs-var">forAll</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ctx -&gt; state -&gt; Gen sig
</span><a href="#local-6989586621685165418"><span class="hs-identifier hs-var">sig</span></a></span><span> </span><span class="annot"><span class="annottext">ctx
</span><a href="#local-6989586621685165414"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">state
</span><a href="#local-6989586621685165413"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621685165411"><span class="annot"><span class="annottext">sig
</span><a href="#local-6989586621685165411"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">state -&gt; state -&gt; prop
</span><a href="#local-6989586621685165416"><span class="hs-identifier hs-var">test</span></a></span><span> </span><span class="annot"><span class="annottext">state
</span><a href="#local-6989586621685165413"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ctx -&gt; state -&gt; sig -&gt; state
</span><a href="#local-6989586621685165417"><span class="hs-identifier hs-var">apply</span></a></span><span> </span><span class="annot"><span class="annottext">ctx
</span><a href="#local-6989586621685165414"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">state
</span><a href="#local-6989586621685165413"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">sig
</span><a href="#local-6989586621685165411"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-192"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span class="hs-comment">-- | When we run a STS rule, the context (env) is a subset of the state, so</span><span>
</span><span id="line-195"></span><span class="hs-comment">--   it makes sense to generate state, and then extract the context.</span><span>
</span><span id="line-196"></span><span id="local-6989586621685165680"><span id="local-6989586621685165681"><span id="local-6989586621685165682"><span id="local-6989586621685165683"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#sts1"><span class="hs-identifier hs-type">sts1</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-197"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165683"><span class="hs-identifier hs-type">ctx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165682"><span class="hs-identifier hs-type">state</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165681"><span class="hs-identifier hs-type">sig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/QuickCheck-2.15.0.1-4019c8c32cd83e4551b6cacd38479a53d08da5213f8f0afe416c11ef11d8101d/share/doc/html/src"><span class="hs-identifier hs-type">Testable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165680"><span class="hs-identifier hs-type">prop</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-198"></span><span>  </span><span class="annot"><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/QuickCheck-2.15.0.1-4019c8c32cd83e4551b6cacd38479a53d08da5213f8f0afe416c11ef11d8101d/share/doc/html/src"><span class="hs-identifier hs-type">Gen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165682"><span class="hs-identifier hs-type">state</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-199"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621685165682"><span class="hs-identifier hs-type">state</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/QuickCheck-2.15.0.1-4019c8c32cd83e4551b6cacd38479a53d08da5213f8f0afe416c11ef11d8101d/share/doc/html/src"><span class="hs-identifier hs-type">Gen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165683"><span class="hs-identifier hs-type">ctx</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-200"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621685165682"><span class="hs-identifier hs-type">state</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621685165683"><span class="hs-identifier hs-type">ctx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/QuickCheck-2.15.0.1-4019c8c32cd83e4551b6cacd38479a53d08da5213f8f0afe416c11ef11d8101d/share/doc/html/src"><span class="hs-identifier hs-type">Gen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165681"><span class="hs-identifier hs-type">sig</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-201"></span><span>  </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621685165683"><span class="hs-identifier hs-type">ctx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621685165682"><span class="hs-identifier hs-type">state</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621685165681"><span class="hs-identifier hs-type">sig</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621685165682"><span class="hs-identifier hs-type">state</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-202"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621685165682"><span class="hs-identifier hs-type">state</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621685165682"><span class="hs-identifier hs-type">state</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621685165680"><span class="hs-identifier hs-type">prop</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-203"></span><span>  </span><span class="annot"><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/QuickCheck-2.15.0.1-4019c8c32cd83e4551b6cacd38479a53d08da5213f8f0afe416c11ef11d8101d/share/doc/html/src"><span class="hs-identifier hs-type">Property</span></a></span></span></span></span></span><span>
</span><span id="line-204"></span><span id="sts1"><span class="annot"><span class="annottext">sts1 :: forall ctx state sig prop.
(Show ctx, Show state, Show sig, Testable prop) =&gt;
Gen state
-&gt; (state -&gt; Gen ctx)
-&gt; (state -&gt; ctx -&gt; Gen sig)
-&gt; ((ctx, state, sig) -&gt; state)
-&gt; (state -&gt; state -&gt; prop)
-&gt; Property
</span><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#sts1"><span class="hs-identifier hs-var hs-var">sts1</span></a></span></span><span> </span><span id="local-6989586621685165398"><span class="annot"><span class="annottext">Gen state
</span><a href="#local-6989586621685165398"><span class="hs-identifier hs-var">state</span></a></span></span><span> </span><span id="local-6989586621685165397"><span class="annot"><span class="annottext">state -&gt; Gen ctx
</span><a href="#local-6989586621685165397"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span id="local-6989586621685165396"><span class="annot"><span class="annottext">state -&gt; ctx -&gt; Gen sig
</span><a href="#local-6989586621685165396"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span id="local-6989586621685165395"><span class="annot"><span class="annottext">(ctx, state, sig) -&gt; state
</span><a href="#local-6989586621685165395"><span class="hs-identifier hs-var">apply</span></a></span></span><span> </span><span id="local-6989586621685165394"><span class="annot"><span class="annottext">state -&gt; state -&gt; prop
</span><a href="#local-6989586621685165394"><span class="hs-identifier hs-var">test</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-205"></span><span>  </span><span class="annot"><span class="annottext">forall a prop.
(Show a, Testable prop) =&gt;
Gen a -&gt; (a -&gt; prop) -&gt; Property
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/QuickCheck-2.15.0.1-4019c8c32cd83e4551b6cacd38479a53d08da5213f8f0afe416c11ef11d8101d/share/doc/html/src"><span class="hs-identifier hs-var">forAll</span></a></span><span>
</span><span id="line-206"></span><span>    </span><span class="annot"><span class="annottext">Gen state
</span><a href="#local-6989586621685165398"><span class="hs-identifier hs-var">state</span></a></span><span>
</span><span id="line-207"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621685165393"><span class="annot"><span class="annottext">state
</span><a href="#local-6989586621685165393"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-208"></span><span>        </span><span class="annot"><span class="annottext">forall a prop.
(Show a, Testable prop) =&gt;
Gen a -&gt; (a -&gt; prop) -&gt; Property
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/QuickCheck-2.15.0.1-4019c8c32cd83e4551b6cacd38479a53d08da5213f8f0afe416c11ef11d8101d/share/doc/html/src"><span class="hs-identifier hs-var">forAll</span></a></span><span>
</span><span id="line-209"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">state -&gt; Gen ctx
</span><a href="#local-6989586621685165397"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="annot"><span class="annottext">state
</span><a href="#local-6989586621685165393"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-210"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621685165392"><span class="annot"><span class="annottext">ctx
</span><a href="#local-6989586621685165392"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-211"></span><span>              </span><span class="annot"><span class="annottext">forall prop. Testable prop =&gt; Int -&gt; prop -&gt; Property
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/QuickCheck-2.15.0.1-4019c8c32cd83e4551b6cacd38479a53d08da5213f8f0afe416c11ef11d8101d/share/doc/html/src"><span class="hs-identifier hs-var">withMaxSuccess</span></a></span><span>
</span><span id="line-212"></span><span>                </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">100</span></span><span>
</span><span id="line-213"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a prop.
(Show a, Testable prop) =&gt;
Gen a -&gt; (a -&gt; prop) -&gt; Property
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/QuickCheck-2.15.0.1-4019c8c32cd83e4551b6cacd38479a53d08da5213f8f0afe416c11ef11d8101d/share/doc/html/src"><span class="hs-identifier hs-var">forAll</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">state -&gt; ctx -&gt; Gen sig
</span><a href="#local-6989586621685165396"><span class="hs-identifier hs-var">sig</span></a></span><span> </span><span class="annot"><span class="annottext">state
</span><a href="#local-6989586621685165393"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">ctx
</span><a href="#local-6989586621685165392"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621685165391"><span class="annot"><span class="annottext">sig
</span><a href="#local-6989586621685165391"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">state -&gt; state -&gt; prop
</span><a href="#local-6989586621685165394"><span class="hs-identifier hs-var">test</span></a></span><span> </span><span class="annot"><span class="annottext">state
</span><a href="#local-6989586621685165393"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ctx, state, sig) -&gt; state
</span><a href="#local-6989586621685165395"><span class="hs-identifier hs-var">apply</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ctx
</span><a href="#local-6989586621685165392"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">state
</span><a href="#local-6989586621685165393"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sig
</span><a href="#local-6989586621685165391"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#proofx"><span class="hs-identifier hs-type">proofx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Generic.Proof.html#Proof"><span class="hs-identifier hs-type">Proof</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-babbage-1.10.0.0/doc/html/cardano-ledger-babbage/src"><span class="hs-identifier hs-type">BabbageEra</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">StandardCrypto</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span id="proofx"><span class="annot"><span class="annottext">proofx :: Proof (BabbageEra StandardCrypto)
</span><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#proofx"><span class="hs-identifier hs-var hs-var">proofx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proof (BabbageEra StandardCrypto)
</span><a href="Test.Cardano.Ledger.Generic.Proof.html#Babbage"><span class="hs-identifier hs-var">Babbage</span></a></span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#genLedgerState"><span class="hs-identifier hs-type">genLedgerState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/QuickCheck-2.15.0.1-4019c8c32cd83e4551b6cacd38479a53d08da5213f8f0afe416c11ef11d8101d/share/doc/html/src"><span class="hs-identifier hs-type">Gen</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Env.html#Env"><span class="hs-identifier hs-type">Env</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-babbage-1.10.0.0/doc/html/cardano-ledger-babbage/src"><span class="hs-identifier hs-type">Babbage</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Ast.html#Subst"><span class="hs-identifier hs-type">Subst</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-babbage-1.10.0.0/doc/html/cardano-ledger-babbage/src"><span class="hs-identifier hs-type">Babbage</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-shelley-1.14.0.0/doc/html/cardano-ledger-shelley/src"><span class="hs-identifier hs-type">LedgerState</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-babbage-1.10.0.0/doc/html/cardano-ledger-babbage/src"><span class="hs-identifier hs-type">Babbage</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-221"></span><span id="genLedgerState"><span class="annot"><span class="annottext">genLedgerState :: Gen
  (Env (BabbageEra StandardCrypto),
   Subst (BabbageEra StandardCrypto),
   LedgerState (BabbageEra StandardCrypto))
</span><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#genLedgerState"><span class="hs-identifier hs-var hs-var">genLedgerState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-222"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621685165388"><span class="annot"><span class="annottext">Env (BabbageEra StandardCrypto)
</span><a href="#local-6989586621685165388"><span class="hs-identifier hs-var">env</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621685165387"><span class="annot"><span class="annottext">Subst (BabbageEra StandardCrypto)
</span><a href="#local-6989586621685165387"><span class="hs-identifier hs-var">sub</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621685165386"><span class="annot"><span class="annottext">DependGraph (BabbageEra StandardCrypto)
</span><a href="#local-6989586621685165386"><span class="hs-identifier hs-var">_graph</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall era.
Reflect era =&gt;
Pipeline era -&gt; Gen (Env era, Subst era, DependGraph era)
</span><a href="Test.Cardano.Ledger.Constrained.Stage.html#solvePipeline"><span class="hs-identifier hs-var">solvePipeline</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. Reflect era =&gt; UnivSize -&gt; Proof era -&gt; Pipeline era
</span><a href="Test.Cardano.Ledger.Constrained.Stage.html#ledgerPipeline"><span class="hs-identifier hs-var">ledgerPipeline</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Default a =&gt; a
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/data-default-class-0.1.2.0-cc61b3e1505bae222166941c5d7d95310a6fc64233e500cdf16191d60ef6520a/share/doc/html/src"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">Proof (BabbageEra StandardCrypto)
</span><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#proofx"><span class="hs-identifier hs-var">proofx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>  </span><span id="local-6989586621685165385"><span class="annot"><span class="annottext">LedgerState (BabbageEra StandardCrypto)
</span><a href="#local-6989586621685165385"><span class="hs-identifier hs-var">ledgerstate</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) t. (HasCallStack, Monad m) =&gt; Typed t -&gt; m t
</span><a href="Test.Cardano.Ledger.Constrained.Monad.html#monadTyped"><span class="hs-identifier hs-var">monadTyped</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall era x t. Env era -&gt; RootTarget era x t -&gt; Typed t
</span><a href="Test.Cardano.Ledger.Constrained.Ast.html#runTarget"><span class="hs-identifier hs-var">runTarget</span></a></span><span> </span><span class="annot"><span class="annottext">Env (BabbageEra StandardCrypto)
</span><a href="#local-6989586621685165388"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era.
EraGov era =&gt;
Proof era -&gt; RootTarget era (LedgerState era) (LedgerState era)
</span><a href="Test.Cardano.Ledger.Constrained.Vars.html#ledgerStateT"><span class="hs-identifier hs-var">ledgerStateT</span></a></span><span> </span><span class="annot"><span class="annottext">Proof (BabbageEra StandardCrypto)
</span><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#proofx"><span class="hs-identifier hs-var">proofx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Env (BabbageEra StandardCrypto)
</span><a href="#local-6989586621685165388"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Subst (BabbageEra StandardCrypto)
</span><a href="#local-6989586621685165387"><span class="hs-identifier hs-var">sub</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LedgerState (BabbageEra StandardCrypto)
</span><a href="#local-6989586621685165385"><span class="hs-identifier hs-var">ledgerstate</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span id="local-6989586621685165664"><span id="local-6989586621685165665"><span id="local-6989586621685165666"><span id="local-6989586621685165667"><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#genSig"><span class="hs-identifier hs-type">genSig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Generic.Proof.html#Reflect"><span class="hs-identifier hs-type">Reflect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165667"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Generic.Proof.html#Proof"><span class="hs-identifier hs-type">Proof</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165667"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621685165666"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Ast.html#Subst"><span class="hs-identifier hs-type">Subst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165667"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621685165665"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621685165664"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/QuickCheck-2.15.0.1-4019c8c32cd83e4551b6cacd38479a53d08da5213f8f0afe416c11ef11d8101d/share/doc/html/src"><span class="hs-identifier hs-type">Gen</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/cardano-ledger/cardano-ledger/dist-newstyle/build/x86_64-linux/ghc-9.2.8/cardano-ledger-core-1.15.0.0/doc/html/cardano-ledger-core/src"><span class="hs-identifier hs-type">Tx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621685165667"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-227"></span><span id="genSig"><span class="annot"><span class="annottext">genSig :: forall era a b p.
Reflect era =&gt;
Proof era -&gt; (a, Subst era, b) -&gt; p -&gt; Gen (Tx era)
</span><a href="Test.Cardano.Ledger.Constrained.Trace.Pipeline.html#genSig"><span class="hs-identifier hs-var hs-var">genSig</span></a></span></span><span> </span><span id="local-6989586621685165353"><span class="annot"><span class="annottext">Proof era
</span><a href="#local-6989586621685165353"><span class="hs-identifier hs-var">proof</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621685165352"><span class="annot"><span class="annottext">Subst era
</span><a href="#local-6989586621685165352"><span class="hs-identifier hs-var">sub</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621685165351"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621685165351"><span class="hs-identifier hs-var">_ledgerEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-228"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621685165350"><span class="annot"><span class="annottext">preds :: [Pred era]
</span><a href="#local-6989586621685165350"><span class="hs-identifier hs-var hs-var">preds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era. Subst era -&gt; Pred era -&gt; Pred era
</span><a href="Test.Cardano.Ledger.Constrained.Ast.html#substPred"><span class="hs-identifier hs-var">substPred</span></a></span><span> </span><span class="annot"><span class="annottext">Subst era
</span><a href="#local-6989586621685165352"><span class="hs-identifier hs-var">sub</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era.
(HasCallStack, Reflect era) =&gt;
UnivSize -&gt; Proof era -&gt; [Pred era]
</span><a href="Test.Cardano.Ledger.Constrained.Preds.Tx.html#txBodyPreds"><span class="hs-identifier hs-var">txBodyPreds</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Default a =&gt; a
</span><a href="../file:///home/runner/.local/state/cabal/store/ghc-9.2.8/data-default-class-0.1.2.0-cc61b3e1505bae222166941c5d7d95310a6fc64233e500cdf16191d60ef6520a/share/doc/html/src"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">Proof era
</span><a href="#local-6989586621685165353"><span class="hs-identifier hs-var">proof</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621685165348"><span class="annot"><span class="annottext">Env era
</span><a href="#local-6989586621685165348"><span class="hs-identifier hs-var">env0</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621685165347"><span class="annot"><span class="annottext">Subst era
</span><a href="#local-6989586621685165347"><span class="hs-identifier hs-var">_sub</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621685165346"><span class="annot"><span class="annottext">DependGraph era
</span><a href="#local-6989586621685165346"><span class="hs-identifier hs-var">_graph</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall era.
Reflect era =&gt;
Pipeline era -&gt; Gen (Env era, Subst era, DependGraph era)
</span><a href="Test.Cardano.Ledger.Constrained.Stage.html#solvePipeline"><span class="hs-identifier hs-var">solvePipeline</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall era. OrderInfo -&gt; [Pred era] -&gt; Stage era
</span><a href="Test.Cardano.Ledger.Constrained.Stage.html#Stage"><span class="hs-identifier hs-var">Stage</span></a></span><span> </span><span class="annot"><span class="annottext">OrderInfo
</span><a href="Test.Cardano.Ledger.Constrained.Rewrite.html#standardOrderInfo"><span class="hs-identifier hs-var">standardOrderInfo</span></a></span><span> </span><span class="annot"><span class="annottext">[Pred era]
</span><a href="#local-6989586621685165350"><span class="hs-identifier hs-var">preds</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-230"></span><span>  </span><span id="local-6989586621685165345"><span class="annot"><span class="annottext">Env era
</span><a href="#local-6989586621685165345"><span class="hs-identifier hs-var">env1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) t. (HasCallStack, Monad m) =&gt; Typed t -&gt; m t
</span><a href="Test.Cardano.Ledger.Constrained.Monad.html#monadTyped"><span class="hs-identifier hs-var">monadTyped</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall era.
(HasCallStack, Reflect era) =&gt;
Env era -&gt; Typed (Env era)
</span><a href="Test.Cardano.Ledger.Constrained.Preds.Tx.html#adjustFeeInput"><span class="hs-identifier hs-var">adjustFeeInput</span></a></span><span> </span><span class="annot"><span class="annottext">Env era
</span><a href="#local-6989586621685165348"><span class="hs-identifier hs-var">env0</span></a></span><span>
</span><span id="line-231"></span><span>  </span><span id="local-6989586621685165344"><span class="annot"><span class="annottext">Env era
</span><a href="#local-6989586621685165344"><span class="hs-identifier hs-var">env2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall t. HasCallStack =&gt; Typed t -&gt; t
</span><a href="Test.Cardano.Ledger.Constrained.Monad.html#errorTyped"><span class="hs-identifier hs-var">errorTyped</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall era.
(HasCallStack, Reflect era) =&gt;
Env era -&gt; Typed (Gen (Env era))
</span><a href="Test.Cardano.Ledger.Constrained.Preds.Tx.html#adjustColInput"><span class="hs-identifier hs-var">adjustColInput</span></a></span><span> </span><span class="annot"><span class="annottext">Env era
</span><a href="#local-6989586621685165345"><span class="hs-identifier hs-var">env1</span></a></span><span>
</span><span id="line-232"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Test.Cardano.Ledger.Constrained.Classes.html#TxF"><span class="hs-identifier hs-type">TxF</span></a></span><span> </span><span class="annot"><span class="annottext">Proof era
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621685165342"><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621685165342"><span class="hs-identifier hs-var">tx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) t. (HasCallStack, Monad m) =&gt; Typed t -&gt; m t
</span><a href="Test.Cardano.Ledger.Constrained.Monad.html#monadTyped"><span class="hs-identifier hs-var">monadTyped</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era t. V era t -&gt; Env era -&gt; Typed t
</span><a href="Test.Cardano.Ledger.Constrained.Env.html#findVar"><span class="hs-identifier hs-var">findVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall era t. Term era t -&gt; V era t
</span><a href="Test.Cardano.Ledger.Constrained.Ast.html#unVar"><span class="hs-identifier hs-var">unVar</span></a></span><span> </span><span class="annot"><span class="annottext">forall era. Reflect era =&gt; Term era (TxF era)
</span><a href="Test.Cardano.Ledger.Constrained.Vars.html#txterm"><span class="hs-identifier hs-var">txterm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Env era
</span><a href="#local-6989586621685165344"><span class="hs-identifier hs-var">env2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///usr/local/.ghcup/ghc/9.2.8/share/doc/ghc-9.2.8/html/libraries/base-4.16.4.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621685165342"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-234"></span></pre></body></html>